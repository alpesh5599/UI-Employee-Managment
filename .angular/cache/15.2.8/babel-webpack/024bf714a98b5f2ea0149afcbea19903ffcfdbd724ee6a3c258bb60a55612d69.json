{"ast":null,"code":"import { forwardRef } from '@angular/core';\nimport { FormControl, FormGroup, NG_VALUE_ACCESSOR, Validators } from '@angular/forms';\nimport { HttpHeaders } from '@angular/common/http';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../services/candidate.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nimport * as i5 from \"@angular/material/icon\";\nimport * as i6 from \"@angular/material/menu\";\nimport * as i7 from \"@angular/material/button\";\nfunction CandidateComponent_span_33_span_1_span_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \" *Required \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction CandidateComponent_span_33_span_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 27);\n    i0.ɵɵtemplate(1, CandidateComponent_span_33_span_1_span_1_Template, 2, 0, \"span\", 16);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r6 = i0.ɵɵnextContext(2);\n    let tmp_0_0;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (tmp_0_0 = ctx_r6.candidateForm.get(\"candidateFirstName\")) == null ? null : tmp_0_0.hasError(\"required\"));\n  }\n}\nfunction CandidateComponent_span_33_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtemplate(1, CandidateComponent_span_33_span_1_Template, 2, 1, \"span\", 26);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    let tmp_0_0;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (tmp_0_0 = ctx_r1.candidateForm.get(\"candidateFirstName\")) == null ? null : tmp_0_0.invalid);\n  }\n}\nfunction CandidateComponent_span_36_span_1_span_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \" *Required \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction CandidateComponent_span_36_span_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 27);\n    i0.ɵɵtemplate(1, CandidateComponent_span_36_span_1_span_1_Template, 2, 0, \"span\", 16);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r8 = i0.ɵɵnextContext(2);\n    let tmp_0_0;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (tmp_0_0 = ctx_r8.candidateForm.get(\"candidateLastName\")) == null ? null : tmp_0_0.hasError(\"required\"));\n  }\n}\nfunction CandidateComponent_span_36_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtemplate(1, CandidateComponent_span_36_span_1_Template, 2, 1, \"span\", 26);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    let tmp_0_0;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (tmp_0_0 = ctx_r2.candidateForm.get(\"candidateLastName\")) == null ? null : tmp_0_0.invalid);\n  }\n}\nfunction CandidateComponent_span_39_span_1_span_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \" *Required \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction CandidateComponent_span_39_span_1_span_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \" *Email is not correct\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction CandidateComponent_span_39_span_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 27);\n    i0.ɵɵtemplate(1, CandidateComponent_span_39_span_1_span_1_Template, 2, 0, \"span\", 16);\n    i0.ɵɵtemplate(2, CandidateComponent_span_39_span_1_span_2_Template, 2, 0, \"span\", 16);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r10 = i0.ɵɵnextContext(2);\n    let tmp_0_0;\n    let tmp_1_0;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (tmp_0_0 = ctx_r10.candidateForm.get(\"candidateEmail\")) == null ? null : tmp_0_0.hasError(\"required\"));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (tmp_1_0 = ctx_r10.candidateForm.get(\"candidateEmail\")) == null ? null : tmp_1_0.hasError(\"email\"));\n  }\n}\nfunction CandidateComponent_span_39_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtemplate(1, CandidateComponent_span_39_span_1_Template, 3, 2, \"span\", 26);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    let tmp_0_0;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (tmp_0_0 = ctx_r3.candidateForm.get(\"candidateEmail\")) == null ? null : tmp_0_0.invalid);\n  }\n}\nfunction CandidateComponent_span_42_span_1_span_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \" *Required \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction CandidateComponent_span_42_span_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 27);\n    i0.ɵɵtemplate(1, CandidateComponent_span_42_span_1_span_1_Template, 2, 0, \"span\", 16);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r13 = i0.ɵɵnextContext(2);\n    let tmp_0_0;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (tmp_0_0 = ctx_r13.candidateForm.get(\"candidatePhoneNo\")) == null ? null : tmp_0_0.hasError(\"required\"));\n  }\n}\nfunction CandidateComponent_span_42_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtemplate(1, CandidateComponent_span_42_span_1_Template, 2, 1, \"span\", 26);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext();\n    let tmp_0_0;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (tmp_0_0 = ctx_r4.candidateForm.get(\"candidatePhoneNo\")) == null ? null : tmp_0_0.invalid);\n  }\n}\nfunction CandidateComponent_span_45_span_1_span_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \" *Required \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction CandidateComponent_span_45_span_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 27);\n    i0.ɵɵtemplate(1, CandidateComponent_span_45_span_1_span_1_Template, 2, 0, \"span\", 16);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r15 = i0.ɵɵnextContext(2);\n    let tmp_0_0;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (tmp_0_0 = ctx_r15.candidateForm.get(\"candidateSkills\")) == null ? null : tmp_0_0.hasError(\"required\"));\n  }\n}\nfunction CandidateComponent_span_45_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtemplate(1, CandidateComponent_span_45_span_1_Template, 2, 1, \"span\", 26);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r5 = i0.ɵɵnextContext();\n    let tmp_0_0;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (tmp_0_0 = ctx_r5.candidateForm.get(\"candidateSkills\")) == null ? null : tmp_0_0.invalid);\n  }\n}\nexport class CandidateComponent {\n  constructor(candidateService, router) {\n    this.candidateService = candidateService;\n    this.router = router;\n    this.fileName = '';\n  }\n  ngOnInit() {\n    this.candidateForm = new FormGroup({\n      applyingPosition: new FormControl('', [Validators.required]),\n      candidateFirstName: new FormControl('', [Validators.required]),\n      candidateLastName: new FormControl('', [Validators.required]),\n      candidateEmail: new FormControl('', [Validators.required, Validators.email]),\n      candidatePhoneNo: new FormControl('', [Validators.required]),\n      candidateSkills: new FormControl('', [Validators.required]),\n      joiningAvailability: new FormControl('', [Validators.required]),\n      // candidateResume: new FormControl( ),\n      comments: new FormControl(),\n      resume: new FormGroup({\n        resumeName: new FormControl(),\n        resumeType: new FormControl(),\n        resumeData: new FormControl()\n      })\n    });\n  }\n  submitDetails() {\n    let formData = new FormData();\n    // Append the JSON data as a text blob with the content type \"application/json\"\n    const jsonData = this.candidateForm.value;\n    // const jsonBlob = new Blob([JSON.stringify(jsonData)], { type: 'application/json' });\n    // formData.append('candidate', jsonBlob);\n    // const jsonBlob1 = new Blob([JSON.stringify(this.candidateForm?.get('candidateResume')?.value)], { type: 'application/pdf' });\n    console.log(this.candidateForm.value);\n    console.log(this.candidateForm.get('resume')?.value);\n    const json = {\n      'candidate': this.candidateForm.value,\n      'candidateResume': this.candidateForm?.get('resume')?.value\n    };\n    // formData.append('candidate', this.candidateForm.value);\n    // formData.append('candidateResume', this.candidateForm?.get('resume')?.value);\n    const headers = new HttpHeaders()\n    // .append('candidate', 'application/json')\n    // .append('candidateResume', 'application/pdf')\n    .append('Content-Type', 'multipart/form-data');\n    this.candidateService.saveCandidateData(json, {\n      headers\n    }).subscribe(res => {\n      this.router.navigate(['/setInterview']);\n      // this.candidateForm.reset();\n    });\n  }\n\n  onFileChange(event) {\n    const file = event.target.files[0];\n    const reader = new FileReader();\n    const fileData = reader.result;\n    const base64Data = btoa(fileData);\n    console.log(file);\n    if (file) {\n      this.fileName = file.name;\n    }\n    this.candidateForm.get('resume.resumeName')?.setValue(this.fileName);\n    this.candidateForm.get('resume.resumeType')?.setValue(file.type);\n    this.candidateForm.get('resume.resumeData')?.setValue(reader.readAsBinaryString(file));\n  }\n}\nCandidateComponent.ɵfac = function CandidateComponent_Factory(t) {\n  return new (t || CandidateComponent)(i0.ɵɵdirectiveInject(i1.CandidateService), i0.ɵɵdirectiveInject(i2.Router));\n};\nCandidateComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: CandidateComponent,\n  selectors: [[\"app-candidate\"]],\n  features: [i0.ɵɵProvidersFeature([{\n    provide: NG_VALUE_ACCESSOR,\n    useExisting: forwardRef(() => CandidateComponent),\n    multi: true\n  }])],\n  decls: 75,\n  vars: 8,\n  consts: [[1, \"navbar\", \"navbar-expand-lg\", \"navbar-light\", \"bg-light\"], [1, \"container-fluid\"], [1, \"navbar-brand\", \"mb-0\", \"h1\"], [\"mat-icon-button\", \"\", \"color\", \"primary\", 3, \"matMenuTriggerFor\"], [\"xPosition\", \"before\", \"yPosition\", \"below\"], [\"myMenu\", \"matMenu\"], [\"mat-menu-item\", \"\", \"routerLink\", \"/candidate\"], [\"mat-menu-item\", \"\", \"routerLink\", \"/getCandidate\"], [\"mat-menu-item\", \"\", \"routerLink\", \"/setInterview\"], [\"mat-menu-item\", \"\", \"routerLink\", \"/getInterviewDetails\"], [1, \"container\"], [3, \"formGroup\", \"ngSubmit\"], [1, \"mt-3\"], [\"formControlName\", \"applyingPosition\", 1, \"form-select\"], [\"selected\", \"\", \"disabled\", \"\", \"value\", \"\"], [\"formControlName\", \"candidateFirstName\", \"type\", \"text\", \"name\", \"firstname\", \"placeholder\", \"Enter First Name\", 1, \"form-control\"], [4, \"ngIf\"], [\"formControlName\", \"candidateLastName\", \"type\", \"text\", \"name\", \"lastname\", \"placeholder\", \"Enter Last Name\", 1, \"form-control\"], [\"formControlName\", \"candidateEmail\", \"type\", \"email\", \"name\", \"email\", \"placeholder\", \"Enter E-mail Address\", 1, \"form-control\"], [\"formControlName\", \"candidatePhoneNo\", \"type\", \"number\", \"onKeyPress\", \"if(this.value.length==10) return false; else return true;\", \"name\", \"phoneNo\", \"placeholder\", \"Enter Phone No \", 1, \"form-control\"], [\"formControlName\", \"candidateSkills\", \"type\", \"text\", \"name\", \"skills\", \"placeholder\", \"Enter your skills\", 1, \"form-control\"], [\"formControlName\", \"resume\", \"type\", \"file\", \"name\", \"resume\", 1, \"form-control\", \"file-upload\", 3, \"change\"], [\"formControlName\", \"joiningAvailability\", 1, \"form-select\"], [\"formControlName\", \"comments\", \"name\", \"comments\", \"cols\", \"137\", \"rows\", \"3\", \"placeholder\", \"Enter your comments\", 1, \"form-control\"], [1, \"form-button\", \"mt-3\"], [\"type\", \"submit\", 1, \"btn\", \"btn-secondary\", 3, \"disabled\"], [\"style\", \"color: red;\", 4, \"ngIf\"], [2, \"color\", \"red\"]],\n  template: function CandidateComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"html\")(1, \"body\")(2, \"nav\", 0)(3, \"div\", 1)(4, \"span\", 2);\n      i0.ɵɵtext(5, \"Apply for position\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(6, \"button\", 3)(7, \"mat-icon\");\n      i0.ɵɵtext(8, \"menu\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(9, \"mat-menu\", 4, 5)(11, \"a\", 6);\n      i0.ɵɵtext(12, \"Fill up Candidate Details\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(13, \"a\", 7);\n      i0.ɵɵtext(14, \"Show All Candidate Details\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(15, \"a\", 8);\n      i0.ɵɵtext(16, \"Schedule Interview\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(17, \"a\", 9);\n      i0.ɵɵtext(18, \"Show scheduled Interview\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(19, \"div\", 10)(20, \"form\", 11);\n      i0.ɵɵlistener(\"ngSubmit\", function CandidateComponent_Template_form_ngSubmit_20_listener() {\n        return ctx.submitDetails();\n      });\n      i0.ɵɵelementStart(21, \"div\", 12)(22, \"select\", 13)(23, \"option\", 14);\n      i0.ɵɵtext(24, \"Choose Position\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(25, \"option\");\n      i0.ɵɵtext(26, \"Java Developer\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(27, \"option\");\n      i0.ɵɵtext(28, \"Angular Developer\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(29, \"option\");\n      i0.ɵɵtext(30, \"Full stack Developer\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(31, \"div\", 12);\n      i0.ɵɵelement(32, \"input\", 15);\n      i0.ɵɵtemplate(33, CandidateComponent_span_33_Template, 2, 1, \"span\", 16);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(34, \"div\", 12);\n      i0.ɵɵelement(35, \"input\", 17);\n      i0.ɵɵtemplate(36, CandidateComponent_span_36_Template, 2, 1, \"span\", 16);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(37, \"div\", 12);\n      i0.ɵɵelement(38, \"input\", 18);\n      i0.ɵɵtemplate(39, CandidateComponent_span_39_Template, 2, 1, \"span\", 16);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(40, \"div\", 12);\n      i0.ɵɵelement(41, \"input\", 19);\n      i0.ɵɵtemplate(42, CandidateComponent_span_42_Template, 2, 1, \"span\", 16);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(43, \"div\", 12);\n      i0.ɵɵelement(44, \"input\", 20);\n      i0.ɵɵtemplate(45, CandidateComponent_span_45_Template, 2, 1, \"span\", 16);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(46, \"div\", 12)(47, \"input\", 21);\n      i0.ɵɵlistener(\"change\", function CandidateComponent_Template_input_change_47_listener($event) {\n        return ctx.onFileChange($event);\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(48, \"div\", 12)(49, \"select\", 22)(50, \"option\", 14);\n      i0.ɵɵtext(51, \"Joining Availability\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(52, \"option\");\n      i0.ɵɵtext(53, \"Immediate\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(54, \"option\");\n      i0.ɵɵtext(55, \"0-2 weeks\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(56, \"option\");\n      i0.ɵɵtext(57, \"2-4 weeks\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(58, \"option\");\n      i0.ɵɵtext(59, \"4-6 weeks\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(60, \"option\");\n      i0.ɵɵtext(61, \"6-8 weeks\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(62, \"option\");\n      i0.ɵɵtext(63, \"8-10 weeks\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(64, \"option\");\n      i0.ɵɵtext(65, \"10-12 weeks\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(66, \"option\");\n      i0.ɵɵtext(67, \"12-14 weeks\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(68, \"option\");\n      i0.ɵɵtext(69, \"14-16 weeks\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(70, \"div\", 12);\n      i0.ɵɵelement(71, \"textarea\", 23);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(72, \"div\", 24)(73, \"button\", 25);\n      i0.ɵɵtext(74, \"Register\");\n      i0.ɵɵelementEnd()()()()()();\n    }\n    if (rf & 2) {\n      const _r0 = i0.ɵɵreference(10);\n      let tmp_2_0;\n      let tmp_3_0;\n      let tmp_4_0;\n      let tmp_5_0;\n      let tmp_6_0;\n      i0.ɵɵadvance(6);\n      i0.ɵɵproperty(\"matMenuTriggerFor\", _r0);\n      i0.ɵɵadvance(14);\n      i0.ɵɵproperty(\"formGroup\", ctx.candidateForm);\n      i0.ɵɵadvance(13);\n      i0.ɵɵproperty(\"ngIf\", (tmp_2_0 = ctx.candidateForm.get(\"candidateFirstName\")) == null ? null : tmp_2_0.touched);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngIf\", (tmp_3_0 = ctx.candidateForm.get(\"candidateLastName\")) == null ? null : tmp_3_0.touched);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngIf\", (tmp_4_0 = ctx.candidateForm.get(\"candidateEmail\")) == null ? null : tmp_4_0.touched);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngIf\", (tmp_5_0 = ctx.candidateForm.get(\"candidatePhoneNo\")) == null ? null : tmp_5_0.touched);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngIf\", (tmp_6_0 = ctx.candidateForm.get(\"candidateSkills\")) == null ? null : tmp_6_0.touched);\n      i0.ɵɵadvance(28);\n      i0.ɵɵproperty(\"disabled\", ctx.candidateForm.invalid);\n    }\n  },\n  dependencies: [i3.NgIf, i2.RouterLink, i4.ɵNgNoValidate, i4.NgSelectOption, i4.ɵNgSelectMultipleOption, i4.DefaultValueAccessor, i4.NumberValueAccessor, i4.SelectControlValueAccessor, i4.NgControlStatus, i4.NgControlStatusGroup, i4.FormGroupDirective, i4.FormControlName, i5.MatIcon, i6.MatMenu, i6.MatMenuItem, i6.MatMenuTrigger, i7.MatIconButton],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"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","names":["forwardRef","FormControl","FormGroup","NG_VALUE_ACCESSOR","Validators","HttpHeaders","i0","CandidateComponent","constructor","candidateService","router","ngOnInit","candidateForm","applyingPosition","required","candidateFirstName","candidateLastName","candidateEmail","email","candidatePhoneNo","candidateSkills","joiningAvailability","comments","resume","resumeName","resumeType","resumeData","submitDetails","formData","FormData","jsonData","value","console","log","get","json","headers","append","saveCandidateData","subscribe","res","navigate","onFileChange","event","file","target","files","reader","FileReader","fileData","result","base64Data","btoa","fileName","name","setValue","type","readAsBinaryString","selectors","features","provide","useExisting","multi","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["C:\\Users\\Vishal\\Angular\\emp_management\\src\\app\\candidate\\candidate.component.ts","C:\\Users\\Vishal\\Angular\\emp_management\\src\\app\\candidate\\candidate.component.html"],"sourcesContent":["import { Component, OnInit, forwardRef } from '@angular/core';\nimport { ControlValueAccessor, FormControl, FormGroup, NG_VALUE_ACCESSOR, Validators } from '@angular/forms';\nimport { CandidateService } from '../services/candidate.service';\nimport { Router } from '@angular/router';\nimport { HttpHeaders } from '@angular/common/http';\n\n@Component({\n  selector: 'app-candidate',\n  providers: [\n    {\n      provide: NG_VALUE_ACCESSOR,\n      useExisting: forwardRef(() => CandidateComponent),\n      multi: true,\n    }\n  ],\n  templateUrl: './candidate.component.html',\n  styleUrls: ['./candidate.component.css']\n})\nexport class CandidateComponent implements OnInit {\n\n  constructor(private candidateService: CandidateService, private router: Router) { }\n\n  candidateForm!: FormGroup;\n  fileName = '';\n\n  ngOnInit(): void {\n    this.candidateForm = new FormGroup({\n      applyingPosition: new FormControl('', [Validators.required]),\n      candidateFirstName: new FormControl('', [Validators.required]),\n      candidateLastName: new FormControl('', [Validators.required]),\n      candidateEmail: new FormControl('', [Validators.required, Validators.email]),\n      candidatePhoneNo: new FormControl('', [Validators.required]),\n      candidateSkills: new FormControl('', [Validators.required]),\n      joiningAvailability: new FormControl('', [Validators.required]),\n      // candidateResume: new FormControl( ),\n      comments: new FormControl(),\n\n      resume:new FormGroup({\n        resumeName:new FormControl(),\n        resumeType:new FormControl(),\n        resumeData:new FormControl()\n      })\n      \n    })\n  }\n\n  submitDetails() {\n\n    let formData = new FormData();\n    // Append the JSON data as a text blob with the content type \"application/json\"\n    const jsonData = this.candidateForm.value;\n\n    // const jsonBlob = new Blob([JSON.stringify(jsonData)], { type: 'application/json' });\n    \n    // formData.append('candidate', jsonBlob);\n    // const jsonBlob1 = new Blob([JSON.stringify(this.candidateForm?.get('candidateResume')?.value)], { type: 'application/pdf' });\n    \n    console.log(this.candidateForm.value);\n    console.log(this.candidateForm.get('resume')?.value);\n    \n    const json : =  {\n      'candidate': this.candidateForm.value,\n      'candidateResume': this.candidateForm?.get('resume')?.value\n    }\n    // formData.append('candidate', this.candidateForm.value);\n    // formData.append('candidateResume', this.candidateForm?.get('resume')?.value);\n\n    const headers = new HttpHeaders()\n    // .append('candidate', 'application/json')\n    // .append('candidateResume', 'application/pdf')\n    .append('Content-Type','multipart/form-data' ) ;\n\n\n    this.candidateService.saveCandidateData(json,{headers}).subscribe(res => {\n      this.router.navigate(['/setInterview'])\n      // this.candidateForm.reset();\n    })\n  }\n\n  onFileChange(event: any) {\n    const file: File = event.target.files[0];\n\n    const reader = new FileReader();\n    const fileData = reader.result as string;\n    const base64Data = btoa(fileData);\n    console.log(file);\n    \n    if (file) {\n      this.fileName = file.name;\n    }\n      this.candidateForm.get('resume.resumeName')?.setValue(this.fileName);\n      this.candidateForm.get('resume.resumeType')?.setValue(file.type);\n      this.candidateForm.get('resume.resumeData')?.setValue(reader.readAsBinaryString(file));\n\n  }\n\n}","<html>\n\n<body>\n    <nav class=\"navbar navbar-expand-lg navbar-light bg-light\">\n        <div class=\"container-fluid\">\n            <span class=\"navbar-brand mb-0 h1\">Apply for position</span>\n        </div>\n        <button mat-icon-button color=\"primary\" [matMenuTriggerFor]=\"myMenu\">\n            <mat-icon>menu</mat-icon>\n        </button>\n\n        <mat-menu #myMenu=\"matMenu\" xPosition=\"before\" yPosition=\"below\">\n            <a mat-menu-item routerLink=\"/candidate\">Fill up Candidate Details</a>\n            <a mat-menu-item routerLink=\"/getCandidate\">Show All Candidate Details</a>\n            <a mat-menu-item routerLink=\"/setInterview\">Schedule Interview</a>\n            <a mat-menu-item routerLink=\"/getInterviewDetails\">Show scheduled Interview</a>\n\n        </mat-menu>\n    </nav>\n\n    <div class=\"container\">\n        <form [formGroup]=\"candidateForm\" (ngSubmit)=\"submitDetails()\">\n\n            <div class=\"mt-3\">\n                <select class=\"form-select\" formControlName=\"applyingPosition\">\n                    <option selected disabled value=\"\">Choose Position</option>\n                    <option>Java Developer</option>\n                    <option>Angular Developer</option>\n                    <option>Full stack Developer</option>\n                </select>\n            </div>\n\n            <div class=\"mt-3\">\n                <input class=\"form-control\" formControlName=\"candidateFirstName\" type=\"text\" name=\"firstname\" placeholder=\"Enter First Name\">\n                <span *ngIf=\"this.candidateForm.get('candidateFirstName')?.touched\">\n                    <span style=\"color: red;\" *ngIf=\"this.candidateForm.get('candidateFirstName')?.invalid\"> \n                        <span *ngIf=\"this.candidateForm.get('candidateFirstName')?.hasError('required')\"> *Required </span>\n                    </span>\n                </span>\n            </div>\n\n            <div class=\"mt-3\">\n                <input class=\"form-control\" formControlName=\"candidateLastName\" type=\"text\" name=\"lastname\" placeholder=\"Enter Last Name\">\n                <span *ngIf=\"this.candidateForm.get('candidateLastName')?.touched\">\n                    <span style=\"color: red;\" *ngIf=\"this.candidateForm.get('candidateLastName')?.invalid\"> \n                        <span *ngIf=\"this.candidateForm.get('candidateLastName')?.hasError('required')\"> *Required </span>\n                    </span>\n                </span>\n            </div>\n\n            <div class=\"mt-3\">\n                <input class=\"form-control\" formControlName=\"candidateEmail\" type=\"email\" name=\"email\" placeholder=\"Enter E-mail Address\">\n                <span *ngIf=\"this.candidateForm.get('candidateEmail')?.touched\">\n                    <span style=\"color: red;\" *ngIf=\"this.candidateForm.get('candidateEmail')?.invalid\"> \n                        <span *ngIf=\"this.candidateForm.get('candidateEmail')?.hasError('required')\"> *Required </span>\n                        <span *ngIf=\"this.candidateForm.get('candidateEmail')?.hasError('email')\"> *Email is not correct</span>\n                    </span>\n                </span>\n            </div>\n\n            <div class=\"mt-3\">\n                <input class=\"form-control\" formControlName=\"candidatePhoneNo\" type=\"number\" onKeyPress=\"if(this.value.length==10) return false; else return true;\"\n                  name=\"phoneNo\" placeholder=\"Enter Phone No \">\n                <span *ngIf=\"this.candidateForm.get('candidatePhoneNo')?.touched\">\n                    <span style=\"color: red;\" *ngIf=\"this.candidateForm.get('candidatePhoneNo')?.invalid\"> \n                        <span *ngIf=\"this.candidateForm.get('candidatePhoneNo')?.hasError('required')\"> *Required </span>\n                    </span>\n                </span>\n            </div>\n\n            <div class=\"mt-3\">\n                <input class=\"form-control\" formControlName=\"candidateSkills\" type=\"text\" name=\"skills\" placeholder=\"Enter your skills\">\n                <span *ngIf=\"this.candidateForm.get('candidateSkills')?.touched\">\n                    <span style=\"color: red;\" *ngIf=\"this.candidateForm.get('candidateSkills')?.invalid\"> \n                        <span *ngIf=\"this.candidateForm.get('candidateSkills')?.hasError('required')\"> *Required </span>\n                    </span>\n                </span>\n            </div>\n\n            <div class=\"mt-3\">\n                <input class=\"form-control file-upload\" formControlName=\"resume\" type=\"file\" name=\"resume\" (change)=\"onFileChange($event)\">\n            </div>\n\n            <div class=\"mt-3\">\n                <select class=\"form-select\" formControlName=\"joiningAvailability\">\n                    <option selected disabled value=\"\">Joining Availability</option>\n                    <option>Immediate</option>\n                    <option>0-2 weeks</option>\n                    <option>2-4 weeks</option>\n                    <option>4-6 weeks</option>\n                    <option>6-8 weeks</option>\n                    <option>8-10 weeks</option>\n                    <option>10-12 weeks</option>\n                    <option>12-14 weeks</option>\n                    <option>14-16 weeks</option>\n                </select>\n            </div>\n\n            <div class=\"mt-3\">\n                <textarea class=\"form-control\" formControlName=\"comments\" name=\"comments\" cols=\"137\" rows=\"3\" placeholder=\"Enter your comments\"></textarea>\n            </div>\n\n            <div class=\"form-button mt-3\">\n                <button type=\"submit\" [disabled]=\"candidateForm.invalid\" class=\"btn btn-secondary\">Register</button>\n            </div>\n        </form>\n    </div>\n</body>\n\n</html>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}